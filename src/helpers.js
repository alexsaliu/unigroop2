const determineColor = (availableMembers, totalMembers) => {
    const percentage = availableMembers / totalMembers * 100;
    if (percentage === 0) return "";
    if (percentage < 25) return "red";
    if (percentage < 50) return "orange";
    if (percentage < 75) return "yellow";
    return "green";
}
const prepareGridData = (link, name, info) => {
    let allTimeSlots = [];
    let vote = [];
    for (let i = 0; i < 168; i++) {
        let timeSlotInfo = {"members": [], "votes": [], "color": ""};
        for (let j = 0, len = info.length; j < len; j++) {
            // Set available members for current timeslot
            if (info[j].availability[i] === "1") timeSlotInfo.members.push(info[j].member_name);
            // Set members who voted for current timeslot
            if (info[j].vote == i) timeSlotInfo.votes.push(info[j].member_name);
            // Detemine color for timeslot
            timeSlotInfo.color = determineColor(timeSlotInfo.members.length, info.length);
            // Capture vote is user voted for current timeslot
            if (info[j].vote == i && info[j].member_name === name) vote = info[j].vote;
        }
        allTimeSlots.push(timeSlotInfo);
    }
    return { allTimeSlots, vote };
}

const setScreen = (link, toggle) => {
    let groups = JSON.parse(localStorage.getItem("groups"));
    groups[link].groupScreen = toggle;
    localStorage.setItem('groups', JSON.stringify(groups));
}

const randomNameGenerator = () => {
    const seed1 = Math.round(Math.random() * (words.length - 1));
    const seed2 = Math.round(Math.random() * 99);
    const name = words[seed1] + seed2;
    return name;
}

module.exports = {
    prepareGridData,
    setScreen,
    randomNameGenerator
}

const words = [
    "able",
    "acid",
    "acne",
    "acre",
    "acts",
    "adam",
    "adds",
    "aged",
    "ages",
    "aims",
    "alan",
    "alex",
    "alot",
    "also",
    "andy",
    "anna",
    "anne",
    "anti",
    "apps",
    "aqua",
    "arab",
    "arch",
    "area",
    "arms",
    "army",
    "arts",
    "asia",
    "asks",
    "atom",
    "audi",
    "auto",
    "avon",
    "away",
    "axis",
    "babe",
    "baby",
    "back",
    "bags",
    "bald",
    "bali",
    "ball",
    "band",
    "bang",
    "bank",
    "bare",
    "barn",
    "bars",
    "base",
    "bass",
    "bath",
    "beam",
    "bean",
    "bear",
    "beat",
    "beds",
    "beef",
    "been",
    "beer",
    "bell",
    "belt",
    "bend",
    "bent",
    "benz",
    "best",
    "beta",
    "beth",
    "bias",
    "bids",
    "bike",
    "bill",
    "bind",
    "bios",
    "bird",
    "bite",
    "bits",
    "blah",
    "blog",
    "blow",
    "blue",
    "boat",
    "body",
    "bold",
    "bolt",
    "bomb",
    "bond",
    "bone",
    "book",
    "bool",
    "boom",
    "boot",
    "born",
    "boss",
    "both",
    "bowl",
    "boys",
    "brad",
    "bras",
    "buck",
    "bugs",
    "bulk",
    "bull",
    "burn",
    "bush",
    "busy",
    "buys",
    "buzz",
    "cafe",
    "cage",
    "cake",
    "call",
    "calm",
    "came",
    "camp",
    "cams",
    "cant",
    "cape",
    "caps",
    "carb",
    "card",
    "care",
    "carl",
    "cars",
    "cart",
    "casa",
    "case",
    "cash",
    "cast",
    "cats",
    "cave",
    "cell",
    "cent",
    "chad",
    "chan",
    "char",
    "chat",
    "chef",
    "chem",
    "chip",
    "ciao",
    "cite",
    "city",
    "clan",
    "clay",
    "clip",
    "club",
    "coal",
    "coat",
    "code",
    "coin",
    "cold",
    "cole",
    "come",
    "comp",
    "cons",
    "cook",
    "cool",
    "cope",
    "copy",
    "cord",
    "core",
    "cork",
    "corn",
    "corp",
    "cost",
    "cove",
    "crew",
    "crop",
    "cuba",
    "cube",
    "cult",
    "cups",
    "cure",
    "cute",
    "cuts",
    "dale",
    "dame",
    "dana",
    "dare",
    "dark",
    "dash",
    "data",
    "date",
    "dave",
    "dawn",
    "days",
    "dead",
    "deaf",
    "deal",
    "dean",
    "dear",
    "debt",
    "deck",
    "deep",
    "deer",
    "dell",
    "demo",
    "deny",
    "desk",
    "dial",
    "dice",
    "died",
    "dies",
    "diet",
    "diff",
    "dirt",
    "disc",
    "dish",
    "disk",
    "dive",
    "dock",
    "docs",
    "does",
    "dogs",
    "doll",
    "dome",
    "done",
    "dont",
    "doom",
    "door",
    "dose",
    "doug",
    "down",
    "drag",
    "draw",
    "drew",
    "drop",
    "drug",
    "drum",
    "dual",
    "duck",
    "dude",
    "duke",
    "dumb",
    "dump",
    "dust",
    "duty",
    "dvds",
    "each",
    "earl",
    "earn",
    "ears",
    "ease",
    "east",
    "easy",
    "ebay",
    "echo",
    "edge",
    "edit",
    "eggs",
    "else",
    "emma",
    "ends",
    "epic",
    "eric",
    "euro",
    "even",
    "ever",
    "evil",
    "exam",
    "exec",
    "exit",
    "expo",
    "eyed",
    "eyes",
    "face",
    "fact",
    "fail",
    "fair",
    "fake",
    "fall",
    "fame",
    "fans",
    "fare",
    "farm",
    "fast",
    "fate",
    "fear",
    "feed",
    "feel",
    "fees",
    "feet",
    "fell",
    "felt",
    "fiji",
    "file",
    "fill",
    "film",
    "find",
    "fine",
    "fire",
    "firm",
    "fish",
    "fist",
    "fits",
    "five",
    "flag",
    "flat",
    "flex",
    "flip",
    "flow",
    "flux",
    "foam",
    "fold",
    "folk",
    "font",
    "food",
    "fool",
    "foot",
    "ford",
    "fork",
    "form",
    "fort",
    "foul",
    "four",
    "fred",
    "free",
    "frog",
    "from",
    "fuel",
    "fuji",
    "full",
    "fund",
    "funk",
    "gage",
    "gain",
    "gale",
    "game",
    "gang",
    "gaps",
    "gary",
    "gate",
    "gave",
    "gear",
    "geek",
    "gene",
    "gets",
    "gift",
    "girl",
    "give",
    "glad",
    "glen",
    "glow",
    "goal",
    "goat",
    "gods",
    "goes",
    "gold",
    "golf",
    "gone",
    "good",
    "gore",
    "grab",
    "grad",
    "gray",
    "greg",
    "grew",
    "grey",
    "grid",
    "grip",
    "grow",
    "gulf",
    "guns",
    "guru",
    "guys",
    "hack",
    "hair",
    "half",
    "hall",
    "halo",
    "hand",
    "hang",
    "hard",
    "harm",
    "harp",
    "hart",
    "hash",
    "hate",
    "hats",
    "have",
    "hawk",
    "head",
    "hear",
    "heat",
    "held",
    "help",
    "herb",
    "here",
    "hero",
    "hide",
    "high",
    "hill",
    "hint",
    "hire",
    "hits",
    "hold",
    "hole",
    "holy",
    "home",
    "hood",
    "hook",
    "hope",
    "horn",
    "hose",
    "host",
    "hour",
    "html",
    "http",
    "huge",
    "hugh",
    "hull",
    "hung",
    "hunt",
    "hurt",
    "icon",
    "idea",
    "idle",
    "idol",
    "inch",
    "info",
    "inns",
    "into",
    "ipod",
    "iran",
    "iraq",
    "iron",
    "item",
    "jack",
    "jade",
    "jail",
    "jake",
    "jane",
    "java",
    "jazz",
    "jean",
    "jeep",
    "jeff",
    "jets",
    "jews",
    "jill",
    "joan",
    "jobs",
    "joel",
    "john",
    "join",
    "joke",
    "jose",
    "josh",
    "juan",
    "judy",
    "july",
    "jump",
    "june",
    "junk",
    "jury",
    "just",
    "kate",
    "keen",
    "keep",
    "kent",
    "kept",
    "keys",
    "kick",
    "kids",
    "kill",
    "kind",
    "king",
    "kirk",
    "kiss",
    "kits",
    "knee",
    "knew",
    "knit",
    "know",
    "kong",
    "kurt",
    "kyle",
    "labs",
    "lace",
    "lack",
    "lady",
    "laid",
    "lake",
    "lamb",
    "lamp",
    "land",
    "lane",
    "last",
    "late",
    "lawn",
    "laws",
    "lazy",
    "lead",
    "leaf",
    "lean",
    "left",
    "legs",
    "lens",
    "leon",
    "less",
    "lets",
    "levy",
    "lies",
    "life",
    "lift",
    "like",
    "lime",
    "line",
    "link",
    "lion",
    "lips",
    "lisa",
    "list",
    "live",
    "load",
    "loan",
    "lock",
    "logo",
    "logs",
    "lone",
    "long",
    "look",
    "loop",
    "lord",
    "lose",
    "loss",
    "lost",
    "lots",
    "loud",
    "love",
    "lows",
    "luck",
    "lucy",
    "luis",
    "luke",
    "lung",
    "lynn",
    "made",
    "mail",
    "main",
    "make",
    "male",
    "mall",
    "many",
    "maps",
    "mark",
    "mars",
    "mart",
    "mary",
    "mask",
    "mass",
    "mate",
    "math",
    "mats",
    "matt",
    "meal",
    "mean",
    "meat",
    "meet",
    "mega",
    "memo",
    "mens",
    "menu",
    "mere",
    "mesh",
    "mess",
    "meta",
    "mice",
    "midi",
    "mike",
    "mild",
    "mile",
    "milk",
    "mill",
    "mime",
    "mind",
    "mine",
    "mini",
    "mins",
    "mint",
    "miss",
    "mode",
    "mods",
    "mold",
    "moms",
    "mono",
    "mood",
    "moon",
    "more",
    "moss",
    "most",
    "move",
    "mpeg",
    "much",
    "must",
    "muze",
    "myth",
    "nail",
    "name",
    "nano",
    "nasa",
    "navy",
    "near",
    "neck",
    "need",
    "neil",
    "neon",
    "nest",
    "news",
    "next",
    "nice",
    "nick",
    "nike",
    "nine",
    "node",
    "none",
    "noon",
    "norm",
    "nose",
    "note",
    "nova",
    "nuke",
    "null",
    "nuts",
    "oaks",
    "odds",
    "oils",
    "okay",
    "oman",
    "once",
    "ones",
    "only",
    "onto",
    "oops",
    "open",
    "oral",
    "oval",
    "oven",
    "over",
    "owen",
    "owns",
    "pace",
    "pack",
    "pads",
    "page",
    "paid",
    "pain",
    "pair",
    "pale",
    "palm",
    "para",
    "park",
    "part",
    "pass",
    "past",
    "path",
    "paul",
    "pays",
    "peak",
    "peas",
    "peer",
    "penn",
    "pens",
    "peru",
    "pest",
    "pete",
    "pets",
    "phil",
    "pick",
    "pics",
    "pill",
    "pine",
    "ping",
    "pink",
    "pins",
    "pipe",
    "plan",
    "play",
    "plot",
    "plug",
    "plus",
    "poem",
    "poet",
    "pole",
    "poll",
    "polo",
    "poly",
    "pond",
    "pool",
    "poor",
    "pope",
    "pork",
    "port",
    "pose",
    "post",
    "pour",
    "pray",
    "prep",
    "prix",
    "proc",
    "pros",
    "pubs",
    "pull",
    "pump",
    "punk",
    "pure",
    "push",
    "puts",
    "quad",
    "quit",
    "quiz",
    "race",
    "rack",
    "rage",
    "raid",
    "rail",
    "rain",
    "rand",
    "rank",
    "rare",
    "rate",
    "rats",
    "rays",
    "read",
    "real",
    "rear",
    "reed",
    "reef",
    "reel",
    "rely",
    "reno",
    "rent",
    "rest",
    "rice",
    "rich",
    "rick",
    "rico",
    "ride",
    "ring",
    "ripe",
    "rise",
    "risk",
    "road",
    "rock",
    "role",
    "roll",
    "rome",
    "roof",
    "room",
    "root",
    "rope",
    "rose",
    "ross",
    "rows",
    "ruby",
    "rugs",
    "rule",
    "runs",
    "rush",
    "ruth",
    "ryan",
    "safe",
    "sage",
    "said",
    "sail",
    "sake",
    "sale",
    "salt",
    "same",
    "sand",
    "sans",
    "save",
    "says",
    "scan",
    "seal",
    "sean",
    "seat",
    "seed",
    "seek",
    "seem",
    "seen",
    "self",
    "sell",
    "semi",
    "send",
    "sent",
    "sept",
    "sets",
    "shed",
    "ship",
    "shoe",
    "shop",
    "shot",
    "show",
    "shut",
    "sick",
    "side",
    "sign",
    "silk",
    "sims",
    "sing",
    "sink",
    "site",
    "size",
    "skin",
    "skip",
    "slim",
    "slip",
    "slot",
    "slow",
    "snap",
    "snow",
    "soap",
    "sofa",
    "soft",
    "soil",
    "sold",
    "sole",
    "solo",
    "soma",
    "some",
    "song",
    "sons",
    "sony",
    "soon",
    "sort",
    "soul",
    "soup",
    "sour",
    "spam",
    "span",
    "spas",
    "spec",
    "spin",
    "spot",
    "stan",
    "star",
    "stat",
    "stay",
    "stem",
    "step",
    "stop",
    "stud",
    "such",
    "suit",
    "sure",
    "surf",
    "swap",
    "swim",
    "sync",
    "tabs",
    "tags",
    "tail",
    "take",
    "tale",
    "talk",
    "tall",
    "tank",
    "tape",
    "task",
    "taxi",
    "team",
    "tear",
    "tech",
    "teen",
    "tell",
    "temp",
    "tend",
    "tent",
    "term",
    "test",
    "text",
    "thai",
    "than",
    "that",
    "thee",
    "them",
    "then",
    "they",
    "thin",
    "this",
    "thou",
    "thru",
    "thus",
    "tide",
    "tied",
    "tier",
    "ties",
    "tile",
    "till",
    "time",
    "tiny",
    "tips",
    "tire",
    "todd",
    "told",
    "toll",
    "tone",
    "tons",
    "tony",
    "took",
    "tool",
    "tops",
    "tour",
    "town",
    "toys",
    "trap",
    "tray",
    "tree",
    "trek",
    "trim",
    "trio",
    "trip",
    "troy",
    "true",
    "tube",
    "tune",
    "turn",
    "twin",
    "type",
    "ugly",
    "undo",
    "unit",
    "unto",
    "upon",
    "urge",
    "used",
    "user",
    "uses",
    "vary",
    "vast",
    "very",
    "vice",
    "vids",
    "view",
    "viii",
    "visa",
    "void",
    "volt",
    "vote",
    "wage",
    "wait",
    "wake",
    "walk",
    "wall",
    "walt",
    "want",
    "ward",
    "warm",
    "wars",
    "wash",
    "watt",
    "wave",
    "ways",
    "weak",
    "wear",
    "weed",
    "week",
    "well",
    "went",
    "were",
    "west",
    "what",
    "when",
    "whom",
    "wide",
    "wife",
    "wifi",
    "wiki",
    "wild",
    "will",
    "wind",
    "wine",
    "wing",
    "wins",
    "wire",
    "wise",
    "wish",
    "with",
    "wolf",
    "wood",
    "wool",
    "word",
    "work",
    "worm",
    "worn",
    "wrap",
    "xbox",
    "yale",
    "yang",
    "yard",
    "yarn",
    "yeah",
    "year",
    "yoga",
    "york",
    "your",
    "zero",
    "zinc",
    "zone",
    "zoom",
]
